GENERIC INSTALL
===============

You must have CMake >= 2.4.7 in order to build this package.

1) $ git clone https://github.com/rkaczorek/astroberry-diy.git
2) $ cd astroberry-diy
3) $ mkdir build && cd build
4) $ cmake -DCMAKE_INSTALL_PREFIX=/usr ..
5) $ make
6) $ su -c 'make install' OR sudo make install


SPECIFIC STEPS
================
Astroberry drivers require INDI suit installed BEFORE driver installation. Drivers integrate into Raspberry Pi
system with GPIOs (bcm2835 library is statically compiled so you don't need to install it). If you want to use AltIMU driver you need rtmimulib installed.

Do the following steps for full installation and configuration

1) Add INDI repos
$ sudo apt-add-repository ppa:mutlaqja/ppa
$ sudo apt-add-repository ppa:mutlaqja/astrometry.net
$ sudo apt-get update

2) Install INDI dependencies
$ sudo apt-get install cdbs libcfitsio3-dev libnova-dev libusb-1.0-0-dev libjpeg-dev libusb-dev libtiff5-dev \
 libftdi-dev fxload libcurl4-gnutls-dev dcraw libgphoto2-2-dev libgsl0-dev

3) Install kstars-bleeding
$ sudo apt-get install kstars-bleeding

4) Install kstars add-on installer required packages
$ sudo apt-get install libkf5parts-dev libkf5newstuff-dev

5) Install and configure gpsd support
$ sudo apt-get install gpsd python-gps gpsd-clients

Add GPSD_OPTIONS="-n -G" to /etc/default/gpsd
Add DEVICES="/dev/ttyAMA0" to /etc/default/gpsd

6) Install support for GPIO and AltIMU
Compile and/or install rtmimulib library

7) Enable device tree for GPIO support
$ echo "" >> /boot/config.txt
$ echo "# enable device-tree" >> /boot/config.txt
$ echo "device_tree=bcm2709-rpi-2-b.dtb" >> /boot/config.txt

8) Enable i2c, i2s and spi
$ echo "dtparam=i2c_arm=on" >> /boot/config.txt
$ echo "dtparam=i2s=on" >> /boot/config.txt
$ echo "dtparam=spi=on" >> /boot/config.txt
$ echo "dtoverlay=pps-gpio,gpiopin=24" >> /boot/config.txt

9) Enjoy!
